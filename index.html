<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Meal Tracker</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
    h2 { margin-top: 30px; }
    textarea { width: 100%; height: 60px; margin-bottom: 10px; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    th { background: #e0e0e0; }
    .category-box { margin-bottom: 20px; background: white; padding: 15px; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
  </style>
</head>
<body>

  <h1>Meal Tracker</h1>

  <div class="category-box">
    <h2>Pre-workout</h2>
    <textarea id="preworkoutInput" placeholder="e.g. banana, 5 almonds"></textarea>
  </div>

  <div class="category-box">
    <h2>Breakfast</h2>
    <textarea id="breakfastInput" placeholder="e.g. poha, idli, upma"></textarea>
  </div>

  <div class="category-box">
    <h2>Lunch</h2>
    <textarea id="lunchInput" placeholder="e.g. 2 roti, dal, rice, sabji"></textarea>
  </div>

  <div class="category-box">
    <h2>Snacks</h2>
    <textarea id="snacksInput" placeholder="e.g. makhana, chana, jaggery"></textarea>
  </div>

  <div class="category-box">
    <h2>Dinner</h2>
    <textarea id="dinnerInput" placeholder="e.g. jowar roti, pithla, kadhi"></textarea>
  </div>

  <button onclick="processAllInputs()">Show Breakdown</button>

  <div id="results"></div>

  <script>
    let foodDB = {
      banana: { calories: 90, protein: 1.1, carbs: 23, fat: 0.3 },
      "5 almonds": { calories: 35, protein: 1.2, carbs: 1.2, fat: 3 },
      "3-4 raisins": { calories: 12, protein: 0.1, carbs: 3, fat: 0 },
      "dry date": { calories: 23, protein: 0.2, carbs: 6, fat: 0 },
      "2 walnuts": { calories: 52, protein: 1.2, carbs: 1.1, fat: 5 },
      "1 scoop protein + 200ml milk": { calories: 200, protein: 25, carbs: 8, fat: 5 },
      apple: { calories: 95, protein: 0.5, carbs: 25, fat: 0.3 },
      chikoo: { calories: 86, protein: 0.4, carbs: 22, fat: 1.1 },
      poha: { calories: 180, protein: 3, carbs: 30, fat: 5 },
      upma: { calories: 200, protein: 4, carbs: 30, fat: 7 },
      idli: { calories: 60, protein: 2, carbs: 12, fat: 0.5 },
      dosa: { calories: 125, protein: 2.5, carbs: 20, fat: 4 },
      sambar: { calories: 100, protein: 5, carbs: 15, fat: 3 },
      "coconut chutney": { calories: 90, protein: 1, carbs: 4, fat: 8 },
      sheera: { calories: 350, protein: 4, carbs: 50, fat: 15 },
      roti: { calories: 80, protein: 3, carbs: 15, fat: 1 },
      "2 roti": { calories: 160, protein: 6, carbs: 30, fat: 2 },
      "3 roti": { calories: 240, protein: 9, carbs: 45, fat: 3 },
      rice: { calories: 130, protein: 2.5, carbs: 28, fat: 0.3 },
      "1 bowl rice": { calories: 200, protein: 4, carbs: 45, fat: 1 },
      dal: { calories: 140, protein: 7, carbs: 20, fat: 4 },
      curd: { calories: 60, protein: 3.5, carbs: 5, fat: 3 },
      "vegetable gawar": { calories: 80, protein: 2.5, carbs: 10, fat: 3 },
      bhindi: { calories: 90, protein: 2.5, carbs: 11, fat: 4 },
      jaggery: { calories: 15, protein: 0, carbs: 4, fat: 0 },
      makhana: { calories: 70, protein: 3, carbs: 10, fat: 2 },
      chana: { calories: 170, protein: 9, carbs: 30, fat: 2 },
      cashews: { calories: 150, protein: 5, carbs: 9, fat: 12 },
      kadhi: { calories: 150, protein: 5, carbs: 20, fat: 6 },
      pulav: { calories: 300, protein: 6, carbs: 45, fat: 10 },
      "jowar roti": { calories: 100, protein: 2.5, carbs: 22, fat: 1.5 },
      pithla: { calories: 120, protein: 5, carbs: 10, fat: 6 },
      "pav bhaji": { calories: 400, protein: 8, carbs: 50, fat: 20 },
      thalipeeth: { calories: 120, protein: 3, carbs: 20, fat: 4 },
      dhapate: { calories: 140, protein: 3.5, carbs: 22, fat: 5 }
    };

    function processAllInputs() {
      const categories = {
        "Pre-workout": document.getElementById("preworkoutInput").value,
        "Breakfast": document.getElementById("breakfastInput").value,
        "Lunch": document.getElementById("lunchInput").value,
        "Snacks": document.getElementById("snacksInput").value,
        "Dinner": document.getElementById("dinnerInput").value
      };

      let resultHTML = `<table>
        <tr>
          <th>Category</th><th>Calories</th><th>Protein (g)</th><th>Carbs (g)</th><th>Fat (g)</th>
        </tr>`;

      let total = { calories: 0, protein: 0, carbs: 0, fat: 0 };

      for (let category in categories) {
        let input = categories[category].toLowerCase().split(',').map(i => i.trim());
        let summary = { calories: 0, protein: 0, carbs: 0, fat: 0 };

        input.forEach(item => {
          if (foodDB[item]) {
            summary.calories += foodDB[item].calories;
            summary.protein += foodDB[item].protein;
            summary.carbs += foodDB[item].carbs;
            summary.fat += foodDB[item].fat;

            total.calories += foodDB[item].calories;
            total.protein += foodDB[item].protein;
            total.carbs += foodDB[item].carbs;
            total.fat += foodDB[item].fat;
          }
        });

        resultHTML += `<tr>
          <td>${category}</td>
          <td>${summary.calories.toFixed(1)}</td>
          <td>${summary.protein.toFixed(1)}</td>
          <td>${summary.carbs.toFixed(1)}</td>
          <td>${summary.fat.toFixed(1)}</td>
        </tr>`;
      }

      resultHTML += `<tr style="font-weight: bold; background: #d0f0d0;">
        <td>Total</td>
        <td>${total.calories.toFixed(1)}</td>
        <td>${total.protein.toFixed(1)}</td>
        <td>${total.carbs.toFixed(1)}</td>
        <td>${total.fat.toFixed(1)}</td>
      </tr></table>`;

      document.getElementById("results").innerHTML = resultHTML;
    }
  </script>

</body>
</html>
